"Volcan"

@startuml

class GasVespeno{
    -cantidad: int
}

class Volcan{
	-refineria: RefineriaDeGas
	-cantidadDeGasVespenoDisponible: int
	+Volcan(unaCantidadDeGasVespeno)
	+construirRefineriaDeGas(unaRefineria)
	+extraerGasUsandoRefineria()
	+extraerGas(cantidadDeGasParaExtraer)
}

interface RefineriaDeGas{
	+extraerGasUsandoRefineria(unVolcan)
}

class Extractor{
	-estadoOperativo: EstadoOperativo
	-cantidadExtraible: int
	+Extractor(unaVida, unTiempoDeConstruccion, unCostoMineral, unCostoGas, unaCantidadExtraible)
	+guardarZangano(unZangano)
	+setComportamientoUtilizable(nuevoEstadoOperativo)
	+avanzarTurno()
	+extraerGasUsandoRefineria()
}

interface EstadoOperativoExtractor{
    +extraerGas()
    +guardarZangano(unZangano)
}

class ExtractorUtilizable {
    -cantidadExtraible: int
    -cantidadMaximaDeZanganos: int
    -zanganos: Zangano
    +ExtractorUtilziable(unaCantidadExtraible)
    +extraerGas()
    +guardarZangano()
}

class ExtractorNoUtilizable {
    +ExtractorNoUtilizable()
    +extraerGas()
    +guardarZangano()
}

class Asimilador{
    -estadoOperativo: EstadoOperativo
    -tiempoDeConstruccion: int
    -costoMineral: int
    -costoGas: int
    +Asimilador()
    +avanzarTurno()
    +extraerGasUsandoRefineria()
}

interface EstadoOperativoAsimilador{
    +extraerGas()
}

class AsimiladorUtilizable {
    -vida: int
    -escudo: int
    -cantidadExtraible: int
    +ExtractorUtilziable(unaCantidadExtraible)
    +extraerGas()
}

class AsimiladorNoUtilizable {
    +ExtractorNoUtilizable()
    +extraerGas()
}

Extractor --> EstadoOperativoExtractor
ExtractorUtilizable ..up|> EstadoOperativoExtractor
ExtractorNoUtilizable ..up|> EstadoOperativoExtractor

Asimilador --> EstadoOperativoAsimilador
AsimiladorUtilizable ..up|> EstadoOperativoAsimilador
AsimiladorNoUtilizable ..up|> EstadoOperativoAsimilador

RefineriaDeGas <|.. Extractor
RefineriaDeGas <|.. Asimilador

Volcan --> GasVespeno
Volcan --> RefineriaDeGas

@enduml

"Supongamos que queremos construir un Extractor.
El Volcan recibira en su constructor una instancia
de la clase Extractor con un estado operativo inicial
de ExtractorNoUtilizable.
Entonces el Volcan se guardara como atributo al Extractor."

"Supongamos que queremos recolectar Gas utilizando un Extractor.
Le enviamos un mensaje a Volcan diciendole que queremos extraer
gas. El Volcan le delega al Extractor la responsabilidad
de calcular la cantidad de gas a extraer.
Extractor recorre su lista de Zanganos y suma
Extractor le pide la cantidad de gas al Volcan y este
le devuelve la cantidad que tiene disponible.
Luego el Volcan devuelve la cantidad extraida de gas."